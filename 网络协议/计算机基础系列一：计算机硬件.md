# [计算机基础系列一：计算机硬件](https://www.cnblogs.com/linhaifeng/p/6523843.html)



- [一 为何要学习计算机基础](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label1)
- [二 本节目标](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label2)
- [三  计算机硬件发展史](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label3)
- [四：计算机硬件组成](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label4)
- [4.1 处理器](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label5)
- [4.2 存储器](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label6)
- [4.3 磁盘](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label7)
- [4.4 磁带](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label8)
- [4.5 输入输出设备](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label9)
- [4.6 总线](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label10)
- [4.7 启动计算机](https://www.cnblogs.com/linhaifeng/p/6523843.html#_label11)

# 一 为何要学习计算机基础

python是编程语言，即python是语言

语言有英语、法语、葡萄牙语等，但凡是语言，都是用来沟通的介质。

程序员编程的本质就是让计算机去工作，而编程语言就是程序员与计算机沟通的介质

程序员要想让计算机工作，必须知道计算机能干什么，怎么干的，这也就是我们必须学习计算机基础的原因

 

然而光有编程语言和硬件也并不能满足大家的编程需求，为什么这么说呢？

程序用编程语言写程序，最终开发出的结果就是一个软件，既然是软件，那就与腾讯qq、暴风影音、快播等软件没有区别了。这些软件必须运行在操作系统之上，你肯定会问：为何要有操作系统呢？没错，远古时代的程序员确实是在没有操作系统的环境下，用编程语言之间操作硬件来编程的，你可能觉得这没有问题，但其实问题是相当严重的，因为此时你必须掌握如何操作硬件的所有具体细节，比如如何具体操作硬盘（现在你得把硬盘拆开，然后你能看见的所有的东西，你都得研究明白，因为你编程时要用到它），这就严重影响了开发的效率，操作系统的出现就是运行于硬件之上，来控制硬件的，我们开发时，只需要调用操作系统为我们提供的简单而优雅的接口就可以了

 

所以一套完整的计算机系统分为：计算机硬件，操作系统，应用软件，如下图。

、因而我们的python编程之路分为计算机硬件基础，操作系统基础，和python编程三部分，就让我们先从计算机硬件学起吧

![img](https://images2018.cnblogs.com/blog/1036857/201803/1036857-20180314160549829-1723176303.png)

# 二 本节目标

1. 了解计算机各组件及工作原理
2. 了解计算机启动流程

# 三  计算机硬件发展史

http://www.cnblogs.com/linhaifeng/p/6428430.html

# 四：计算机硬件组成

计算机硬件有五大部分：（计算机是人的奴隶，可以将其当作一个人去看，请思考下述组件等同于人的哪些器官）

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
#1、控制器：计算机的指挥系统。控制器通过地址访问存储器，从存储器中取出指令，经译码器分析后，根据指令分析结果产生相应的操作控制信号作用于其他部件，使得各部件在控制器控制下有条不紊地协调工作。

#2、运算器：实现算术运算和逻辑运算的部件。 

#3、存储器：是计算机用来存放所有数据和程序的记忆部件。它的基本功能是按指定的地址存（写）入或者取（读）出信息。 计算机中的存储器可分成两大类：一类是内存储器，简称内存或主存；另一类是外存储器（辅助存储器），简称外存或辅存。 存储器由若干个存储单元组成，每个存储单元都有一个地址，计算机通过地址对存储单元进行读写。一个存储器所包含的字节数称为存储容量，单位有B、KB、MB、GB、TB等。

#4、输入设备：是向计算机中输入信息（程序、数据、声音、文字、图形、图像等）的设备。常见的输入设备有：键盘、鼠标、图形扫描仪、触摸屏、条形码输入器、光笔等。 外存储器也是一种输入设备。 

#5、输出设备：主要有显示器、打印机和绘图仪等。外存储器也当作一种输出设备。
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

控制器+运算器=CPU，**CPU、内存(主存储器)以及其他I/O设备都由一条系统总线（bus）连接起来并通过总线与其他设备通信**

现代计算机的结构更复杂，包括**多重总线**，我们将在后面的小节介绍，此时暂且让我们以下图为例来介绍各个部件 

![img](https://images2015.cnblogs.com/blog/1036857/201703/1036857-20170308232608125-1550495213.png)

cpu是人的大脑，负责控制全身和运算

内存是人的记忆，负责临时存储

硬盘是人的笔记本，负责永久存储

输入设备是耳朵或眼睛或嘴巴，负责接收外部的信息存入内存

输出设备是你的脸部(表情)或者屁股，负责经过处理后输出的结果

以上所有的设备都通过总线连接，总线相当于人的神经

 

上课开始，老师讲课，学生听课，老师是程序员，学生是计算机，学生的器官都是计算机各部分组成

1.你通过耳朵接收老师讲的知识->输入

2.通过自己的神经，将接收的数据存入自己的内存/短期记忆（总线、内存）

3.光听不行，你还需要反应/处理老师讲的知识，于是你的大脑/cpu从短期记忆里取出知识/指令，分析知识/指令，然后学习知识/执行指令 （cpu取指、分析、执行）

4.你通过作业或者说话输出你学到的结果

5.你想要永久将知识保存下来，只能拿出一个笔记本，把刚刚学会的知识都写到本子上，这个本子就是硬盘（磁盘）

 

 

综合上面所说的，我们知道其实计算机是由五大单元：CPU（控制单元、算术逻辑单元）、主存储器、输入单元、输出单元构成的。也可以说CPU+主存储器+输入输出构成了电子计算机的三大核心组件

1、控制单元+算数逻辑单元=>CPU 

2、主存储器，即内存

3、输入单元Input+输出单元Outpu=>IO设备

 

相关性如下图：

![img](https://images2018.cnblogs.com/blog/1036857/201803/1036857-20180314171523158-1421724255.png)

## 4.1 处理器

   通常将运算器和控制器合称为中央处理器(Central Processing Unit，CPU)。其中运算器用来主要负责程序运算与逻辑判断，控制器则主要协调各组件和各单元的工作，所以CPU的工作主要在于管理和运算。可以说计算机的大脑就是CPU，它从内存中**取指令->解码->执行，**然后再取指->解码->执行下一条指令，周而复始，直至整个程序被执行完成。 

　　既然CPU的重点在于进行运算和判断，那么要被运算与判断的数据是从哪里来的？**CPU****读取的数据都是从主存储器（内存）来的！主存储器内的数据则是从输入单元所传输进来！而****CPU****处理完毕的数据也必须先写回主存储器中，最后数据才从主存储器传输到输出单元。**

**![img](https://img2018.cnblogs.com/i-beta/1036857/202003/1036857-20200301204504791-67682153.jpg)**

​    在超大规模集成电路构成的微型计算机中，往往将CPU制成一块具有特定功能的芯片，称为微处理器，芯片里边有编写好的微指令集,我们在主机上的所有操作或者说任何软件的执行最终都要转化成cpu的指令去执行,如输入输出，阅读，视频，上网等这些都要参考CPU是否内置有相关微指令集才行。如果没有那么CPU无法处理这些操作。不同的CPU指令集不同对应的功能也不同，这就好比不同的人脑，对于大多数人类来说，人脑的结构一样，但是大家的智商都有差别。

​    那么目前世界上的主流CPU由那些呢？我们笔记本上贴的Intel、AMD是怎么回事呢？下面我们来认识一下；

![img](https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif)

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
我们已经知道CPU内部是含有微指令集的，我们所使用的的软件都要经过CPU内部的微指令集来完成才行。这些指令集的设计主要又被分为两种设计理念，这就是目前世界上常见到的两种主要的CPU种类：分别是精简指令集（RISC）与复杂指令集（CISC）系统。下面我们就来谈谈这两种不同CPU种类的差异！

# 1.1、精简指令集(了解)
　　精简指令集（Reduced Instruction Set Computing，RISC）：这种CPU的设计中，微指令集较为精简，每个指令的运行时间都很短，完成的动作也很单纯，指令的执行效能较佳；但是若要做复杂的事情，就要由多个指令来完成。常见的RISC指令集CPU主要例如Sun公司的SPARC系列、IBM公司的Power Architecture（包括PowerPC）系列、与ARM系列等。【注：Sun已经被Oracle收购；】

　　SPARC架构的计算机常用于学术领域的大型工作站中，包括银行金融体系的主服务器也都有这类的计算机架构；

　　PowerPC架构的应用，如Sony出产的Play Station 3（PS3）使用的就是该架构的Cell处理器。

　　ARM是世界上使用范围最广的CPU了，常用的各厂商的手机、PDA、导航系统、网络设备等，几乎都用该架构的CPU。

# 1.2、复杂指令集
　　复杂指令集（Complex Instruction Set Computer，CISC）与RISC不同，在CISC的微指令集中，每个小指令可以执行一些较低阶的硬件操作，指令数目多而且复杂，每条指令的长度并不相同。因此指令执行较为复杂所以每条指令花费的时间较长，但每条个别指令可以处理的工作较为丰富。常见的CISC微指令集CPU主要有AMD、Intel、VIA等的x86架构的CPU。
    
# 总结：
    CPU按照指令集可以分为精简指令集CPU和复杂指令集CPU两种，区别在于前者的指令集精简，每个指令的运行时间都很短，完成的动作也很单纯，指令的执行效能较佳；但是若要做复杂的事情，就要由多个指令来完成。后者的指令集每个小指令可以执行一些较低阶的硬件操作，指令数目多而且复杂，每条指令的长度并不相同。因为指令执行较为复杂所以每条指令花费的时间较长，但每条个别指令可以处理的工作较为丰富。
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

![img](https://img2018.cnblogs.com/i-beta/1036857/202003/1036857-20200301212008162-873584377.png)

![img](https://img2018.cnblogs.com/i-beta/1036857/202003/1036857-20200301212127189-1719244711.jpg) 

![img](https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif)

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
#1、x86架构
    x86是针对cpu的型号或者说架构的一种统称，详细地讲，最早的那颗Intel发明出来的CPU代号称为8086，后来在8086的基础上又开发出了80285、80386....，因此这种架构的CPU就被统称为x86架构了。
        
    由于AMD、Intel、VIA所开发出来的x86架构CPU被大量使用于个人计算机上面，因此，个人计算机常被称为x86架构的计算机！
    程序员开发出的软件最终都要翻译成cpu的指令集才能运行，因此软件的版本必须与cpu的架构契合，举个例子，我们在MySQL官网下载软件MySQL时名字为：
      Windows(x86,32-bit),ZIP Archive
      (mysql-5.7.20-win32.zip)   
    我们发现名字中有x86，这其实就是告诉我们：该软件应该运行在x86架构的计算机上。
#2、64位  
    cpu的位数指的是cpu一次性能从内存中取出多少位二进制指令，64bit指的是一次性能从内存中取出64位二进制指令。
    在2003年以前由Intel所开发的x86架构CPU由8位升级到16、32位，后来AMD依此架构修改新一代的CPU为64位，到现在，个人计算机CPU通常都是x86_64的架构。
    cpu具有向下兼容性，指的是64位的cpu既可以运行64位的软件，也可以运行32位的软件，而32位的cpu只能运行32位的软件。这其实很好理解，如果把cpu的位数当成是车道的宽，而内存中软件的指令当做是待通行的车辆，宽64的车道每次肯定既可以通行64辆车，也可以通信32辆车，而宽32的车道每次却只能通行32辆车
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

![img](https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif)

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
微处理器由一片或少数几片大规模集成电路组成的中央处理器。这些电路执行控制部件和算术逻辑部件的功能。微处理器能完成取指令、执行指令，以及与外界存储器和逻辑部件交换信息等操作，是微型计算机的运算控制部分。它可与存储器和外围电路芯片组成微型计算机。
    计算机的发展主要表现在其核心部件——微处理器的发展上，每当一款新型的微处理器出现时，就会带动计算机系统的其他部件的相应发展，如计算机体系结构的进一步优化，存储器存取容量的不断增大、存取速度的不断提高，外围设备的不断改进以及新设备的不断出现等。根据微处理器的字长和功能，可将其发展划分为以下几个阶段。

第1阶段（1971——1973年）是4位和8位低档微处理器时代，通常称为第1代。
第2阶段（1974——1977年）是8位中高档微处理器时代，通常称为第2代。
第3阶段（1978——1984年）是16位微处理器时代，通常称为第3代。
第4阶段（1985——1992年）是32位微处理器时代，又称为第4代。
第5阶段（1993-2005年）是奔腾（pentium）系列微处理器时代，通常称为第5代。
第6阶段（2005年至今）是酷睿（core）系列微处理器时代，通常称为第6代。“酷睿”是一款领先节能的新型微架构，设计的出发点是提供卓然出众的性能和能效，提高每瓦特性能，也就是所谓的能效比。
若想具体了解CPU历史参见百度百科：
https://baike.baidu.com/item/%E4%B8%AD%E5%A4%AE%E5%A4%84%E7%90%86%E5%99%A8/284033?fr=aladdin&fromid=368184&fromtitle=%EF%BC%A3%EF%BC%B0%EF%BC%B5#10
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

![img](https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif)

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
常将运算器和控制器合称为中央处理器(Central Processing Unit，CPU)。

其中运算器用来主要负责程序运算与逻辑判断，控制器则主要协调各组件和各单元的工作，所以CPU的工作主要在于管理和运算。可以说计算机的大脑就是CPU


#1、运算器

　　运算器是对信息进行处理和运算的部件。经常进行的运算是算术运算和逻辑运算，所以运算器又可称为算术逻辑运算部件（Arithmetic and Logical，ALU）。

　　运算器的核心是加法器。运算器中还有若干个通用寄存器或累加寄存器，用来暂存操作数并存放运算结果。寄存器的存取速度比存储器的存放速度快很多。

#2 控制器
　　控制器是整个计算机的指挥中心，它的主要功能是按照人们预先确定的操作步骤，控制整个计算机的各部件有条不紊的自动工作。

　　控制器从主存中逐条地读取出指令进行分析，根据指令的不同来安排操作顺序，向各部件发出相应的操作信号，控制它们执行指令所规定的任务。控制器中包括一些专用的寄存器。
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

![img](https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif)

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
因访问内存以得到指令或数据的时间比cpu执行指令花费的时间要长得多，所以，所有CPU内部都有一些用来保存关键变量和临时数据的寄存器，这样通常在cpu的指令集中专门提供一些指令，用来将一个字（可以理解为数据）从内存调入寄存器，以及将一个字从寄存器存入内存。cpu其他的指令集可以把来自寄存器、内存的操作数据组合，或者用两者产生一个结果，比如将两个字相加并把结果存在寄存器或内存中。

    寄存器的分类：

1.除了用来保存变量和临时结果的通用寄存器外

2.多数计算机还有一些对程序员课件的专门寄存器，其中之一便是程序计数器，它保存了将要取出的下一条指令的内存地址。在指令取出后，程序计算器就被更新以便执行后期的指令

　　3.另外一个寄存器便是堆栈指针，它指向内存中当前栈的顶端。该栈包含已经进入但是还没有退出的每个过程中的一个框架。在一个过程的堆栈框架中保存了有关的输入参数、局部变量以及那些没有保存在寄存器中的临时变量

　　4.最后 一个非常重要的寄存器就是程序状态字寄存器(Program Status Word,PSW),这个寄存器包含了条码位(由比较指令设置)、CPU优先级、模式（用户态或内核态），以及各种其他控制位。用户通常读入整个PSW，但是只对其中少量的字段写入。在系统调用和I/O中，PSW非常非常非常非常非常非常重要

　　寄存器的维护：

　　操作系统必须知晓所有的寄存器。在时间多路复用的CPU中，操作系统会经常中止正在运行的某个程序并启动（或再次启动）另一个程序。每次停止一个运行着的程序时，操作系统必须保存所有的寄存器，这样在稍后该程序被再次运行时，可以把这些寄存器重新装入。
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

 

　　**处理器设计的演变**

1.最开始取值、解码、执行这三个过程是同时进行的，这意味着任何一个过程完成都需要等待其余两个过程执行完毕，时间浪费

2.后来被设计成了流水线式的设计，即执行指令n时，可以对指令n+1解码，并且可以读取指令n+2,完全是一套流水线。

![img](https://images2015.cnblogs.com/blog/1036857/201701/1036857-20170118175620421-960875756.png)

3.超变量cpu，比流水线更加先进，有多个执行单元，可以同时负责不同的事情，比如看片的同时，听歌，打游戏。

两个或更多的指令被同时取出、解码并装入一个保持缓冲区中，直至它们都执行完毕。只有有一个执行单元空闲，就检查保持缓冲区是否还有可处理的指令

![img](https://images2015.cnblogs.com/blog/1036857/201701/1036857-20170118180026953-636695323.png)

这种设计存在一种缺陷，即程序的指令经常不按照顺序执行，在多数情况下，硬件负责保证这种运算结果与顺序执行的指令时的结果相同。

　　**内核态与用户态**

![img](https://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif)

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
　　除了在嵌入式系统中的非常简答的CPU之外，多数CPU都有两种模式，即内核态与用户态。

　　通常，PSW中有一个二进制位控制这两种模式。

　　内核态：当cpu在内核态运行时，cpu可以执行指令集中所有的指令，很明显，所有的指令中包含了使用硬件的所有功能，（操作系统在内核态下运行，从而可以访问整个硬件）

　　用户态：用户程序在用户态下运行，仅仅只能执行cpu整个指令集的一个子集，该子集中不包含操作硬件功能的部分，因此，一般情况下，在用户态中有关I/O和内存保护（操作系统占用的内存是受保护的，不能被别的程序占用），当然，在用户态下，将PSW中的模式设置成内核态也是禁止的。

　　内核态与用户态切换　　

　　用户态下工作的软件不能操作硬件，但是我们的软件比如暴风影音，一定会有操作硬件的需求，比如从磁盘上读一个电影文件，那就必须经历从用户态切换到内核态的过程，为此，用户程序必须使用系统调用（system call），系统调用陷入内核并调用操作系统，TRAP指令把用户态切换成内核态，并启用操作系统从而获得服务。

　　请把的系统调用看成一个特别的的过程调用指令就可以了，该指令具有从用户态切换到内核态的特别能力。
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

　　**多线程和多核芯片**

moore定律指出，芯片中的晶体管数量每18个月翻一倍，随着晶体管数量的增多，更强大的功能称为了可能，如

I.第一步增强：在cpu芯片中加入更大的缓存，一级缓存L1，用和cpu相同的材质制成，cpu访问它没有时延

II.第二步增强：一个cpu中的处理逻辑增多，intel公司首次提出，称为多线程（multithreading）或超线程（hyperthreading），对用户来说一个有两个线程的cpu就相当于两个cpu，我们后面要学习的进程和线程的知识就起源于这里，进程是资源单位而线程才是cpu的执行单位。

多线程运行cpu保持两个不同的线程状态，可以在纳秒级的时间内来回切换，速度快到你看到的结果是并发的，伪并行的，然而多线程不提供真正的并行处理，一个cpu同一时刻只能处理一个进程（一个进程中至少一个线程）

III.第三步增强：除了多线程，还出现了傲寒2个或者4个完整处理器的cpu芯片，如下图。要使用这类多核芯片肯定需要有多处理操作系统

![img](https://images2015.cnblogs.com/blog/1036857/201701/1036857-20170118182512359-1757124963.png)

![img](https://images2015.cnblogs.com/blog/1036857/201701/1036857-20170118182858218-1536914146.png) 

## 4.2 存储器

计算机中第二重要的就是存储了，所有人都意淫着存储：速度快（这样cpu的等待存储器的延迟就降低了）+容量大+价钱便宜。然后同时兼备三者是不可能的，所以有了如下的不同的处理方式

![img](https://images2015.cnblogs.com/blog/1036857/201701/1036857-20170118183152312-1283265250.png)

存储器系统采用如上图的分层结构，顶层的存储器速度较高，容量较小，与底层的存储器相比每位的成本较高，其差别往往是十亿数量级的

 

　　**寄存器即L1缓存：**

用与cpu相同材质制造，与cpu一样快，因而cpu访问它无时延，典型容量是：在32位cpu中为32*32，在64位cpu中为64*64，在两种情况下容量均<1KB。

　　**高速缓存即L2缓存：**

主要由硬件控制高速缓存的存取，内存中有高速缓存行按照0~64字节为行0，64~127为行1。。。最常用的高速缓存行放置在cpu内部或者非常接近cpu的高速缓存中。当某个程序需要读一个存储字时，高速缓存硬件检查所需要的高速缓存行是否在高速缓存中。如果是，则称为**高速缓存命中**，缓存满足了请求，就不需要通过总线把访问请求送往主存(内存)，这毕竟是慢的。高速缓存的命中通常需要两个时钟周期。**高速缓存为命中**，就必须访问内存，这需要付出大量的时间代价。由于高速缓存价格昂贵，所以其大小有限，有些机器具有两级甚至三级高速缓存，每一级高速缓存比前一级慢但是容易大。

　　缓存在计算机科学的许多领域中起着重要的作用，并不仅仅只是RAM（随机存取存储器）的缓存行。只要存在大量的资源可以划分为小的部分，那么这些资源中的某些部分肯定会比其他部分更频发地得到使用，此时用缓存可以带来性能上的提升。一个典型的例子就是操作系统一直在使用缓存，比如，多数操作系统在内存中保留频繁使用的文件（的一部分），以避免从磁盘中重复地调用这些文件，类似的/root/a/b/c/d/e/f/a.txt的长路径名转换成该文件所在的磁盘地址的结果然后放入缓存，可以避免重复寻找地址，还有一个web页面的url地址转换为网络地址(IP)地址后，这个转换结果也可以缓存起来供将来使用。

　　缓存是一个好方法，在现代cpu中设计了两个缓存，再看4.1中的两种cpu设计图。第一级缓存称为L1总是在CPU中，通常用来将已经解码的指令调入cpu的执行引擎，对那些频繁使用的数据自，多少芯片还会按照第二L1缓存 。。。另外往往设计有二级缓存L2，用来存放近来经常使用的内存字。L1与L2的差别在于对cpu对L1的访问无时间延迟，而对L2的访问则有1-2个时钟周期（即1-2ns）的延迟。

内存：

再往下一层是主存，此乃存储器系统的主力，主存通常称为随机访问存储RAM，就是我们通常所说的内存，容量一直在不断攀升，所有不能再高速缓存中找到的，都会到主存中找，**主存是易失性存储，断电后数据全部消失**

除了主存RAM之外，许多计算机已经在使用少量的**非易失性随机访问存储如ROM（**Read Only Memory，ROM），在电源切断之后，非易失性存储的内容并不会丢失，ROM只读存储器在工厂中就被编程完毕，然后再也不能修改。ROM速度快且便宜，在有些计算机中，用于启动计算机的引导加载模块就存放在ROM中，另外一些I/O卡也采用ROM处理底层设备的控制。

**EEPROM（Electrically Erasable PROM，电可擦除可编程ROM）和闪存（flash memory）也是非易失性的**，但是与ROM相反，他们可以擦除和重写。不过重写时花费的时间比写入RAM要多。在便携式电子设备中中，闪存通常作为存储媒介。闪存是数码相机中的胶卷，是便携式音译播放器的磁盘，还应用于固态硬盘。闪存在速度上介于RAM和磁盘之间，但与磁盘不同的是，闪存擦除的次数过多，就被磨损了。

 

还有一类存储器就是**CMOS，它是易失性的**，许多计算机利用CMOS存储器来**保持当前时间和日期**。CMOS存储器和递增时间的电路由一小块**电池驱动**，所以，即使计算机没有加电，时间也仍然可以正确地更新，除此之外**CMOS还可以保存配置的参数，比如，哪一个是启动磁盘等**，之所以采用CMOS是因为它耗电非常少，一块工厂原装电池往往能使用若干年，但是当电池失效时，相关的配置和时间等都将丢失

## 4.3 磁盘

![img](https://img2020.cnblogs.com/blog/1036857/202011/1036857-20201103145049279-941209661.png)

 

 ![img](https://img2020.cnblogs.com/blog/1036857/202011/1036857-20201103145115759-1547694710.png)

![img](https://images2015.cnblogs.com/blog/1036857/201703/1036857-20170309060223188-1339579.png)

![img](https://img2020.cnblogs.com/blog/1036857/202011/1036857-20201103145310250-1919251080.png)

 

![img](https://img2020.cnblogs.com/blog/1036857/202011/1036857-20201103145317744-640227649.png)

 ![img](https://img2020.cnblogs.com/blog/1036857/202010/1036857-20201022180126269-1949248186.png)

 

磁盘低速的原因是因为它一种机械装置，在磁盘中有一个或多个金属盘片，它们以5400，7200或10800rpm（RPM =revolutions per minute 每分钟多少转 ）的速度旋转。从边缘开始有一个机械臂悬在盘面上，这类似于老式黑胶唱片机上的拾音臂。信息卸载磁盘上的一些列的同心圆上，是一连串的2进制位（称为bit位），为了统计方法，8个bit称为一个字节bytes，1024bytes=1k，1024k=1M，1024M=1G,所以我们平时所说的磁盘容量最终指的就是磁盘能写多少个2进制位。

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
# TB,PB, Eb, Zb, YB
1B= 8bit
1KB=2(10)B=1024B； 括号中的数字为2的指数(即多少次方) 
1MB=2(10)KB=1024KB=2(20)B； 
1GB=2(10)MB=1024MB=2(30)B。 
1TB=2(10) GB=1024GB=2(40)B 
1PB=2(10) TB=1024TB=2(50)B 
1EB=2(10) PB=1024PB=2(60)B 
1ZB=2(10) EB=1024EB=2(70)B 
1YB=2(10) ZB=1024ZB=2(80)B 

1Byte相当於一个英文字母
Kilobyte(KB)=1024B相当於一则短篇故事的内容。 
Megabyte(MB)=l024KB相当於一则短篇小说的文字内容。 
Gigabyte(GB)=1024MB相当於贝多芬第五乐章交响曲的乐谱内容。 
Terabyte(TB)=1024GB相当於一家大型医院中所有的X光图片资讯量。 
Petabyte(PB)=l024TB相当於50%的全美学术研究图书馆藏书资讯内容。 
Exabyte (EB)=1024PB；5EB相当於至今全世界人类所讲过的话语。 
Zettabyte(ZB)=1024EB如同全世界海滩上的沙子数量总和。 
Yottabyte(YB)=1024ZB相当於7000位人类体内的微细胞总和。
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

 

每个磁头可以读取一段换新区域，称为磁道

把一个戈丁手臂位置上所以的磁道合起来，组成一个柱面

每个磁道划成若干扇区，扇区典型的值是512字节

　　**数据都存放于一段一段的扇区，即磁道这个圆圈的一小段圆圈，从磁盘读取一段数据需要经历寻道时间和延迟时间**

**平均寻道时间**

机械手臂从一个柱面随机移动到相邻的柱面的时间成为寻到时间，找到了磁道就以为着招到了数据所在的那个圈圈，但是还不知道数据具体这个圆圈的具体位置

**平均延迟时间**

机械臂到达正确的磁道之后还必须等待旋转到数据所在的扇区下，这段时间成为延迟时间

 

 

　　**虚拟内存：**

**许多计算机支持虚拟内存机制，该机制使计算机可以运行大于物理内存的程序，方法是将正在使用的程序放入内存取执行，而暂时不需要执行的程序放到磁盘的某块地方，这块地方成为虚拟内存，在linux中成为swap，这种机制的核心在于快速地映射内存地址，由cpu中的一个部件负责，成为存储器管理单元(Memory Management Unit MMU)**

 

**PS：从一个程序切换到另外一个程序，成为**上下文切换**(context switch),缓存和MMU的出现提升了系统的性能，尤其是上下文切换**

 

## 4.4 磁带

在价钱相同的情况下比硬盘拥有更高的存储容量，虽然速度低于磁盘，但是因其大容量，在地震水灾火灾时可移动性强等特性，常被用来做备份。（常见于大型数据库系统中）

4.5 I/O设备

cpu和存储器并不是操作系统唯一需要管理的资源，I/O设备也是非常重要的一环。

见四中的图，**I/O设备一般包括两个部分：设备控制器和设备本身**。

控制器：是查找主板上的一块芯片或一组芯片（硬盘，网卡，声卡等都需要插到一个口上，这个口连的便是控制器），控制器负责控制连接的设备，它从操作系统接收命令，比如读硬盘数据，然后就对硬盘设备发起读请求来读出内容。

控制器的功能：通常情况下对设备的控制是非常复杂和具体的，控制器的任务就是为操作系统屏蔽这些复杂而具体的工作，提供给操作系统一个简单而清晰的接口

设备本身：有相对简单的接口且标准的，这样大家都可以为其编写驱动程序了。要想调用设备，必须根据该接口编写复杂而具体的程序，于是有了控制器提供设备驱动接口给操作系统。必须把设备驱动程序安装到操作系统中。

## 4.5 输入输出设备

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

```
#1、输入设备
　　输入设备的任务是把人们编好的程序和原始数据送到计算机中去，并且将他们转换成计算机内存所能识别和接受的信息方式。

　　安输入信息的形态可分为字符（包括汉字）输入、图形输入、图像输入及语言输入等。目前，常见的输入设备有：键盘、鼠标、扫描仪等。辅助存储器（磁盘、磁带）也可以看作输入设备。另外，自动控制和检测系统中使用的模数（A/D）转换装置也是一种输入设备。

#2、输出设备
　　输出设备的任务是将计算机的处理结果以人或其他设备所能接受的形式送出计算机。

　　目前最常用的输出设备是打印机和显示器。辅助存储器也可以看做输出设备。另外，数模（D/A）转换装置也是一种输出设备。
```

[![复制代码](https://common.cnblogs.com/images/copycode.gif)](javascript:void(0);)

## 4.6 总线

四小节中的结构在小型计算机中沿用了多年，并也用在早期的IBM PC中。但是随着处理器和存储器速度越来越快，单总线很难处理总线的交通流量了，于是出现了下图的多总线模式，他们处理I/O设备及cpu到存储器的速度都更快。

北桥即PCI桥：连接高速设备

南桥即ISA桥：连接慢速设备

![img](https://images2015.cnblogs.com/blog/1036857/201701/1036857-20170118183358656-1969770652.png)

主板图解：

![img](https://images2018.cnblogs.com/blog/1036857/201803/1036857-20180314164300354-1096940375.jpg)

**电源（Power）==心脏：所有的组件要能运作，得要有足够的电力供给才行。这就好像心脏一样，如果心脏不跳动了，人就嗝屁了，电脑也是如果没有电源，那也就是一堆垃圾，什么作用都没有。**

## 4.7 启动计算机

在计算机的主板上有一个基本的输入输出程序（Basic  Input Output system)

BIOS就相当于一个小的操作系统，它有底层的I/O软件，包括读键盘，写屏幕，进行磁盘I/O,该程序存放于一非易失性闪存RAM中。

 

启动流程

1.计算机加电

2.BIOS开始运行，检测硬件：cpu、内存、硬盘等

3.BIOS读取CMOS存储器中的参数，选择启动设备

4.从启动设备上读取第一个扇区的内容（MBR主引导记录512字节，前446为引导信息，后64为分区信息，最后两个为标志位）

5.根据分区信息读入bootloader启动装载模块，启动操作系统

6.然后操作系统询问BIOS，以获得配置信息。对于每种设备，系统会检查其设备驱动程序是否存在，如果没有，系统则会要求用户按照设备驱动程序。一旦有了全部的设备驱动程序，操作系统就将它们调入内核。然后初始有关的表格（如进程表），穿件需要的进程，并在每个终端上启动登录程序或GUI

 